<!DOCTYPE HTML>
<html>
  <head>
    <title>Home</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="./static/assets/css/main.css"/>
    <link rel="icon" type="image/x-icon" href="./static/favicon.ico">
    <!-- Extra styles for chatbot and transition -->
    <style>
      /* Smooth transition for the main content width */
      #main {
        transition: width 0.3s ease;
      }
      /* Chatbot container: hidden by default (width 0), fixed to the right */
      #chatbot-container {
        position: fixed;
        right: 0;
        top: 0;
        height: 100vh;
        width: 0;
        overflow: hidden;
        transition: width 0.3s ease;
        z-index: 1000;
      }
      /* When expanded, the chatbot container becomes 320px wide */
      #chatbot-container.expanded {
        width: 320px;
      }
      /* Iframe fills the chatbot container */
      #chatbot-iframe {
        width: 100%;
        height: 100%;
        border: none;
      }
      /* Toggle button: fixed on the right edge and slides with the panel */
      #chatbot-toggle {
        position: fixed;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
        z-index: 500;
        background-color: #333;
        color: #fff;
        border: none;
        padding: 10px;
        cursor: pointer;
        transition: right 0.3s ease;
      }

    </style>
  </head>
  <body class="is-preload">
    <!-- Header -->
    <header id="header">
      <div class="inner">
        <a href="index.html" class="image avatar">
          <img src="./static/images/headshot.jpg" alt=""/>
        </a>
        <span style="text-align: center;">
          <h1><strong>Kostadin Devedzhiev</strong></h1>
          <i><h5>kostadin.g.devedzhiev@gmail.com</h5></i>
          <span>Software Engineer at Stellar Cyber</span>
          <br>
          <span>Human-Inspired AI | NLP | UI</span>
          <h6>
            <a href="./static/documents/cv.pdf" target="_blank">Curriculum Vitae</a>
          </h6>
          <nav id="main-nav">
            <div class="nav-link"><a href="index.html">Home</a></div>
            <div class="nav-link"><a href="projects.html">Projects</a></div>
            <div class="nav-link"><a href="publications.html">Publications</a></div>
            <div class="nav-link"><a href="certificates.html">Education</a></div>
          </nav>
        </span>
      </div>
    </header>

    <!-- Main content area -->
    <div id="main">


    <section id="two">
        <h2>Publications</h2>
        <div class="row">
            <!-- Project 6: EMF in Ellipses -->
            <article class="col-12 work-item">
                <h3>
                    EMF in Ellipses &nbsp;&nbsp;
                    <a href="https://dx.doi.org/10.1088/1361-6404/abb066" target="_blank" class="icon fa-file">
                        <span class="label">PDF</span>
                    </a>
                </h3>
                <p>
                    A study of the motional EMF induced in elliptical conducting loops traversed by a magnetic field.
                </p>
                <a href="https://dx.doi.org/10.1088/1361-6404/abb066">
                    <p>
                        P-M Binder, Kostadin G Devedzhiev, Alexandra T Runyan. (2020). Motional emf generated by squeezing an elliptical conducting loop.
                        European Journal of Physics, European Physical Society. https://dx.doi.org/10.1088/1361-6404/abb066
                    </p>
                </a>
                <a href="./static/images/ellipses-white.png" class="image fit thumb">
                    <img src="./static/images/ellipses-white.png" alt="EMF in Ellipses screenshot"/>
                </a>
            </article>
        </div>
      </section>

      <!-- Footer -->
      <footer id="footer">
        <div class="inner">
          <ul class="icons">
            <li>
              <a href="https://www.linkedin.com/in/kostadin-dev/" class="icon brands fa-linkedin">
                <span class="label">LinkedIn</span>
              </a>
            </li>
            <li>
              <a href="https://github.com/KostadinDev" class="icon brands fa-github">
                <span class="label">Github</span>
              </a>
            </li>
            <li>
              <a href="https://open.spotify.com/user/4y1al16ad6q40hy0bm6xejks0?si=a22c66e820ea4ed8" class="icon brands alt fa-spotify">
                <span class="label">Spotify</span>
              </a>
            </li>
          </ul>
        </div>
      </footer>
    </div>

    <!-- Chatbot container and toggle button (toggle is open by default) -->
    <!-- <div id="chatbot-container" class="expanded">
      <iframe id="chatbot-iframe" src="http://localhost:5173"></iframe>
    </div>
    <button id="chatbot-toggle">Close</button> -->

    <!-- Scripts -->
    <script src="./static/assets/js/jquery.min.js"></script>
    <script src="./static/assets/js/jquery.poptrox.min.js"></script>
    <script src="./static/assets/js/browser.min.js"></script>
    <script src="./static/assets/js/breakpoints.min.js"></script>
    <script src="./static/assets/js/util.js"></script>
    <script src="./static/assets/js/main.js"></script>
<script>
  window.addEventListener("DOMContentLoaded", function() {
    var chatbot = document.getElementById('chatbot-container');
    var main = document.getElementById('main');
    var toggle = document.getElementById('chatbot-toggle');

    // Retrieve toggle state from local storage. Possible values: "open" or "closed".
    var toggleState = localStorage.getItem('chatbotToggleState');

    // If there's no saved state, set default based on device size.
    if (toggleState === null) {
      if (window.matchMedia("(max-width: 768px)").matches) {
        toggleState = "closed";
      } else {
        toggleState = "open";
      }
    }

    // Set initial state based on toggleState.
    if (toggleState === "open") {
      chatbot.classList.add('expanded');
      main.style.width = "calc(100% - 30% - 320px)";
      toggle.style.right = "320px";
      toggle.textContent = "Close";
    } else {
      chatbot.classList.remove('expanded');
      main.style.width = "calc(100% - 30%)";
      toggle.style.right = "0";
      toggle.textContent = "Open";
    }
  });

  // Toggle the chatbot panel and update local storage accordingly.
  document.getElementById('chatbot-toggle').addEventListener('click', function() {
    var chatbot = document.getElementById('chatbot-container');
    var main = document.getElementById('main');
    var toggle = document.getElementById('chatbot-toggle');

    if (chatbot.classList.contains('expanded')) {
      chatbot.classList.remove('expanded');
      if (window.matchMedia("(max-width: 768px)").matches) {
        main.style.width = "calc(100%)";
      } else {
        main.style.width = "calc(100% - 30%)";
      }
      toggle.style.right = "0";
      toggle.textContent = "Open";
      localStorage.setItem('chatbotToggleState', 'closed');
    } else {
      chatbot.classList.add('expanded');
      main.style.width = "calc(100% - 30% - 320px)";
      toggle.style.right = "320px";
      toggle.textContent = "Close";
      localStorage.setItem('chatbotToggleState', 'open');
    }
  });
</script>

<script>
$(document).ready(function() {
  $('.image.fit.thumb').poptrox({
    onPopupOpen: function() {
      // Disable pointer events on the chatbot container so clicks won't go to the iframe
      $('#chatbot-container').css('pointer-events', 'none');
    },
    onPopupClose: function() {
      // Re-enable pointer events when the lightbox closes
      $('#chatbot-container').css('pointer-events', 'auto');
    }
  });
});

</script>

  </body>
</html>
